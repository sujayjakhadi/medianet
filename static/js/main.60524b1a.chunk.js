(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,t,a){e.exports=a(301)},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},301:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(7),l=a.n(i);a(152),a(153);var c=function(){return r.a.createElement("div",{className:"header-container"},r.a.createElement("h3",null," Live Stock Prices "))},o=a(74),s=a(128),u=a(129),d=a(143),p=a(130),m=a(144),f=a(10),v=a(303),h=a(305),w=a(304),E=a(73),b=a(131),g=a.n(b),k=(a(154),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).getColumns=function(){return[{title:"Ticker",dataIndex:"ticker",render:function(e){return r.a.createElement("span",null," ",e.toUpperCase()," ")}},{title:"Price",dataIndex:"value",render:function(t,a){return{props:{className:a.classname},children:r.a.createElement("span",null,t.toFixed(2),"first-price"!==a.classname&&r.a.createElement(f.a,{onClick:function(){return e.getInfo(a)},style:{color:"blue",float:"right",fontSize:"16px"},type:"info-circle"}))}}},{title:"Last Update",dataIndex:"updatedAt",render:function(t){return r.a.createElement("span",null," ",e.getTimeDiff(t)," ")}},{title:"Trends",dataIndex:"prevValues",width:"25%",render:function(e,t){return r.a.createElement(E.Sparklines,{data:[Object(o.a)(e).reverse(),t.value].flat()},r.a.createElement(E.SparklinesLine,{color:"#468bc9"}),r.a.createElement(E.SparklinesSpots,null))}}]},e.state={liveData:[],popContent:[],popTicker:""},e.indexArr=[],e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"getInfo",value:function(e){this.setState({popTicker:e.ticker.toUpperCase(),popContent:Object(o.a)(e.prevValues),drawerVisible:!0})}},{key:"getTimeDiff",value:function(e){if(e){var t=new Date-e;return t<6e4?"A few seconds ago":t<36e5?Math.floor(t/6e4)+" minute(s) ago":t<864e5?Math.floor(t/36e5)+" Hour(s) ago":e.toLocaleString()}}},{key:"handleData",value:function(e){var t=this,a=JSON.parse(e),n=Object(o.a)(this.state.liveData);a.map(function(e){var a=t.indexArr.indexOf(e[0]);-1===a?(t.indexArr.push(e[0]),n.push({ticker:e[0],value:e[1],prevValues:[],classname:"first-price",updatedAt:new Date})):(n[a].prevValues.unshift(n[a].value)>5&&n[a].prevValues.pop(),n[a].value=e[1],n[a].updatedAt=new Date,n[a].classname=n[a].prevValues[0]>e[1]?"red-column price":n[a].prevValues[0]<e[1]?"green-column price":"white-column price")}),this.setState({liveData:n})}},{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("div",null,r.a.createElement(g.a,{url:"ws://stocks.mnet.website",onMessage:this.handleData.bind(this)})),r.a.createElement("div",{className:"table-container"},r.a.createElement(v.a,{pagination:{pageSize:25},size:"small",columns:this.getColumns(),dataSource:this.state.liveData,bordered:!0})),r.a.createElement(h.a,{title:"".concat(this.state.popTicker,": History"),placement:"right",onClose:function(){e.setState({drawerVisible:!1})},visible:this.state.drawerVisible},r.a.createElement(w.a,{size:"small",header:r.a.createElement("div",null,"Last 5 Prices"),bordered:!0,dataSource:this.state.popContent,renderItem:function(e){return r.a.createElement(w.a.Item,null,e.toFixed(2))}})))}}]),t}(n.Component));var S=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(c,null),r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(300);l.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[147,1,2]]]);
//# sourceMappingURL=main.60524b1a.chunk.js.map